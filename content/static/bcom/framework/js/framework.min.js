!function(t,e){function r(t){return!!(""===t||t&&t.charCodeAt&&t.substr)}function n(t){return f?f(t):"[object Array]"===m.call(t)}function o(t){return"[object Object]"===m.call(t)}function a(t,e){var r;t=t||{},e=e||{};for(r in e)e.hasOwnProperty(r)&&null==t[r]&&(t[r]=e[r]);return t}function i(t,e,r){var n,o,a=[];if(!t)return a;if(l&&t.map===l)return t.map(e,r);for(n=0,o=t.length;n<o;n++)a[n]=e.call(r,t[n],n,t);return a}function c(t,e){return t=Math.round(Math.abs(t)),isNaN(t)?e:t}function u(t){var e=p.settings.currency.format;return"function"==typeof t&&(t=t()),r(t)&&t.match("%v")?{pos:t,neg:t.replace("-","").replace("%v","-%v"),zero:t}:t&&t.pos&&t.pos.match("%v")?t:r(e)?p.settings.currency.format={pos:e,neg:e.replace("%v","-%v"),zero:e}:e}var s,p={version:"0.4.1",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},l=Array.prototype.map,f=Array.isArray,m=Object.prototype.toString,d=p.unformat=p.parse=function(t,e){if(n(t))return i(t,function(t){return d(t,e)});if("number"==typeof(t=t||0))return t;e=e||".";var r=RegExp("[^0-9-"+e+"]",["g"]);r=parseFloat((""+t).replace(/\((.*)\)/,"-$1").replace(r,"").replace(e,"."));return isNaN(r)?0:r},g=p.toFixed=function(t,e){e=c(e,p.settings.number.precision);var r=Math.pow(10,e);return(Math.round(p.unformat(t)*r)/r).toFixed(e)},_=p.formatNumber=p.format=function(t,e,r,u){if(n(t))return i(t,function(t){return _(t,e,r,u)});t=d(t);var s=a(o(e)?e:{precision:e,thousand:r,decimal:u},p.settings.number),l=c(s.precision),f=0>t?"-":"",m=parseInt(g(Math.abs(t||0),l),10)+"",h=3<m.length?m.length%3:0;return f+(h?m.substr(0,h)+s.thousand:"")+m.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+s.thousand)+(l?s.decimal+g(Math.abs(t),l).split(".")[1]:"")},h=p.formatMoney=function(t,e,r,s,l,f){if(n(t))return i(t,function(t){return h(t,e,r,s,l,f)});t=d(t);var m=a(o(e)?e:{symbol:e,precision:r,thousand:s,decimal:l,format:f},p.settings.currency),g=u(m.format);return(0<t?g.pos:0>t?g.neg:g.zero).replace("%s",m.symbol).replace("%v",_(Math.abs(t),c(m.precision),m.thousand,m.decimal))};p.formatColumn=function(t,e,s,l,f,m){if(!t)return[];var g=a(o(e)?e:{symbol:e,precision:s,thousand:l,decimal:f,format:m},p.settings.currency),h=u(g.format),b=h.pos.indexOf("%s")<h.pos.indexOf("%v"),y=0;return i(t=i(t,function(t){return n(t)?p.formatColumn(t,g):((t=(0<(t=d(t))?h.pos:0>t?h.neg:h.zero).replace("%s",g.symbol).replace("%v",_(Math.abs(t),c(g.precision),g.thousand,g.decimal))).length>y&&(y=t.length),t)}),function(t){return r(t)&&t.length<y?b?t.replace(g.symbol,g.symbol+Array(y-t.length+1).join(" ")):Array(y-t.length+1).join(" ")+t:t})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=p),exports.accounting=p):"function"==typeof define&&define.amd?define([],function(){return p}):(p.noConflict=(s=t.accounting,function(){return t.accounting=s,p.noConflict=void 0,p}),t.accounting=p)}(this);var $j,product=new Object,closeModal=function(){$j("#popcart").fadeOut()},openModal=function(t){var e=".popcart__global__resumecart__";$j(e+"imgpdt img").attr("src",t.image),$j(e+"labelpdt").text(t.title),$j(e+"pricepdt__old").html(t.strokenprice),$j(e+"pricepdt__new").html(t.finalprice),$j("#popcart").fadeIn()},getPrices=function(){$j("article.item").each(function(){var t=$j(this).attr("data-catentry");$j.getJSON("/webapp/wcs/stores/servlet/BLGetDynamicOffer?leadOfferCatentryId="+t+"&storeId=10001&catalogId=10001&langId=-2",function(t){if(reference=t.offer.price.referenceAmount,amount=t.offer.price.amount,null===t.catentryId||!1===t.offer.published)$j(this).find(".item__bottom__price__amount").text("Produit indisponible");else{var e=accounting.formatMoney(reference,"",2," ","&euro;").split("&euro;")[0]+"<sup>&euro;"+accounting.formatMoney(reference,"",2," ","&euro;").split("&euro;")[1]+"</sup>",r=accounting.formatMoney(amount,"",2," ","&euro;").split("&euro;")[0]+"<sup>&euro;"+accounting.formatMoney(amount,"",2," ","&euro;").split("&euro;")[1]+"</sup>",n=Math.round((r-e)/e*100)+"%";reference<=amount&&(e=""),$j(".item__bottom__price__striked").html(e),$j(".item__bottom__price__amount").html(r),$j("item__bottom__percent").html(n)}})})},addToCart=function(t,e){var r="/webapp/wcs/stores/servlet/catalog/addToCart?catalogId=10001&storeId=10001&langId=-2&catgroupId=&catEntryId="+t,n=$j(e),o=n.parents(".swiper-slide");n.addClass("loading"),$j.post(r,function(){$j(e).removeClass("loading"),product={strokenprice:o.find(".item__bottom__price__striked").html(),finalprice:o.find(".item__bottom__price__amount").html(),image:o.find(".item img.item__visuel").attr("src"),title:o.find(".item .item__title").text()},openModal(product)}).error(function(){n.removeClass("loading")})};$j(function(){$j(".item__bottom__addToBasket").live("click",function(){addToCart($j(this).parents(".item").attr("data-ref"),this)})});
$j("[data-xiti]").on("click",function(){var t=$j(this).attr("data-xiti");tc_events_global(this,"standard",{event_name:t,level2_id:"23",event_type:"N"})});
imgLazy=function(){$j("img[data-src]").each(function(){var t=$j(window).scrollTop(),a=$j(window).height();$j(this).offset().top<a+t&&($j(this).attr("src",$j(this).attr("data-src")),$j(this).removeAttr("data-src"))})};